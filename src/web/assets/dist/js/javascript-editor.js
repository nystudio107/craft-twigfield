/*!
 * @project        twigfield
 * @name           javascript-editor.js
 * @author         Andrew Welch
 * @build          Sun Oct 23 2022 07:57:45 GMT-0700 (Pacific Daylight Time)
 * @copyright      Copyright (c) 2022 Â©2022 nystudio107.com
 *
 */
"use strict";(self.webpackChunkBuildchain=self.webpackChunkBuildchain||[]).push([[339],{5092:function(e,t,n){n(7941),n(2526),n(7327),n(1539),n(5003),n(4747),n(9337);var i=n(4942),o=(n(4916),n(3123),n(3210),n(5306),n(713)),r=n(8152),l=n(1002);n(6699),n(2023),n(6755),n(6992),n(8783),n(3948),n(1637),n(9714),n(9720),n(8309);function a(e){return e[e.length-1]}function s(e,t,n){monaco.languages.registerCompletionItemProvider("twig",{triggerCharacters:[".","("],provideCompletionItems:function(i,o,r){var s=[],d=e,u=i.getValueInRange({startLineNumber:o.lineNumber,startColumn:0,endLineNumber:o.lineNumber,endColumn:o.column}),c=!0;if(-1===u.lastIndexOf("{")&&(c=!1),-1!==u.substring(u.lastIndexOf("{")).indexOf("}")&&(c=!1),!c&&"TwigExpressionAutocomplete"===t)return null;var g=u.replace("\t","").split(" "),p=g[g.length-1];p.includes("{")&&(p=a(p.split("{"))),p.includes("(")&&(p=a(p.split("("))),p.includes(">")&&(p=a(p.split(">")));var m="."===p.charAt(p.length-1);if(m&&"TwigExpressionAutocomplete"!==t)return null;if(c&&"TwigExpressionAutocomplete"===t&&m){if(!n)return null;var f=p.substring(0,p.length-1).split(".");if(void 0!==e[f[0]]){d=e[f[0]];for(var v=1;v<f.length;v++){if(!d.hasOwnProperty(f[v]))return s;d=d[f[v]]}}}if(void 0!==d)for(var h in d)if(d.hasOwnProperty(h)&&!h.startsWith("__")){var w=d[h].__completions;if(void 0!==w){if(delete w.range,"documentation"in w&&"object"!==(0,l.Z)(w.documentation)){var y=w.documentation;w.documentation={value:y,isTrusted:!0,supportsHtml:!0}}s.push(w)}}return{suggestions:s}}})}function d(e,t,n){monaco.languages.registerHoverProvider("twig",{provideHover:function(t,n){var i={},o=t.getValueInRange({startLineNumber:n.lineNumber,startColumn:0,endLineNumber:n.lineNumber,endColumn:t.getLineMaxColumn(n.lineNumber)}),r=t.getWordAtPosition(n);if(null!==r){for(var a=o.substring(0,r.endColumn-1),s=!1,d=e,u=a.length;u>=0;u--)if(" "===a[u]){a=o.substring(u+1,a.length);break}if(a.includes(".")&&(s=!0),s)for(var c=a.substring(0,a.length).split("."),g=0;g<c.length-1;g++){var p=c[g].replace(/[{(<]/,"");if(!d.hasOwnProperty(p))return i;d=d[p]}if(void 0!==d&&void 0!==d[r.word]){var m=d[r.word].__completions;if(void 0!==m){var f=m.documentation;return"object"===(0,l.Z)(m.documentation)&&(f=m.documentation.value),{range:new monaco.Range(n.lineNumber,r.startColumn,n.lineNumber,r.endColum),contents:[{value:"**"+m.detail+"**"},{value:f}]}}}return i}}})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Twigfield",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=new URLSearchParams;void 0!==e&&i.set("fieldType",e),void 0!==t&&i.set("twigfieldOptions",t);var o=n.includes("?")?"&":"?";if(void 0===window.twigfieldFieldTypes&&(window.twigfieldFieldTypes={}),!(e in window.twigfieldFieldTypes)){window.twigfieldFieldTypes[e]=e;var l=new XMLHttpRequest;l.open("GET",n+o+i.toString(),!0),l.onload=function(){if(l.status>=200&&l.status<400){var e=JSON.parse(l.responseText);void 0===window.monacoAutocompleteItems&&(window.monacoAutocompleteItems={});for(var t=0,n=Object.entries(e);t<n.length;t++){var i=(0,r.Z)(n[t],2),o=(i[0],i[1]);o.name in window.monacoAutocompleteItems||(window.monacoAutocompleteItems[o.name]=o.name,s(o.__completions,o.type,o.hasSubProperties),d(o.__completions,o.type))}}else console.log("Autocomplete endpoint failed with status "+l.status)},l.send()}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}""===n.p&&(n.p=window.twigfieldBaseAssetsUrl);var p={language:"twig",theme:"vs",automaticLayout:!0,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,renderLineHighlight:!1,wordWrap:!0,scrollBeyondLastLine:!1,scrollbar:{vertical:"hidden",horizontal:"auto",alwaysConsumeMouseWheel:!1,handleMouseWheel:!1},fontSize:14,fontFamily:'SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace',minimap:{enabled:!1}};function m(e,t,n,i,r,l){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=document.getElementById(e),d=document.createElement("div"),c=JSON.parse(r),m=e+"-monaco-editor-placeholder";d.id=e+"-monaco-editor",d.classList.add("relative","box-content","monaco-editor-twigfield","h-full");var f=document.createElement("div");if(f.classList.add("monaco-editor-twigfield--icon"),f.setAttribute("title",Craft.t("twigfield","Twig code is supported.")),f.setAttribute("aria-hidden","true"),f.innerHTML='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 320 320" style="enable-background:new 0 0 320 320;" xml:space="preserve">\n<style type="text/css">.st0{fill:currentcolor;}</style>\n<g>\n\t<path class="st0" d="M128,35.6c-17.7,0-32,15.9-32,35.6v35.6c0,29.5-21.5,53.3-48,53.3c26.5,0,48,23.9,48,53.3v35.6\n\t\tc0,19.6,14.3,35.6,32,35.6V320H96c-35.3,0-64-31.9-64-71.1v-35.6c0-19.6-14.3-35.6-32-35.6v-35.6c17.7,0,32-15.9,32-35.6V71.1\n\t\tC32,31.9,60.7,0,96,0h32V35.6L128,35.6z"/>\n\t<path class="st0" d="M320,177.8c-17.7,0-32,15.9-32,35.6v35.6c0,39.2-28.7,71.1-64,71.1h-32v-35.6c17.7,0,32-15.9,32-35.6v-35.6\n\t\tc0-29.5,21.5-53.3,48-53.3c-26.5,0-48-23.9-48-53.3V71.1c0-19.6-14.3-35.6-32-35.6V0h32c35.3,0,64,31.9,64,71.1v35.6\n\t\tc0,19.6,14.3,35.6,32,35.6V177.8L320,177.8z"/>\n</g>\n</svg>',d.appendChild(f),""!==n){var v=d.classList,h=n.trim().split(/\s+/);v.add.apply(v,h)}if(d.tabIndex=0,""!==a){var w=document.createElement("div");w.id=e+"-monaco-editor-placeholder",w.innerHTML=a,w.classList.add("monaco-placeholder","p-2"),d.appendChild(w)}s.parentNode.insertBefore(d,s),s.style.display="none";var y=g(g(g({},p),JSON.parse(i)),{value:s.value}),b=o.editor.create(d,y);if(b.onDidChangeModelContent((function(e){s.value=b.getValue()})),"singleLineEditor"in c&&c.singleLineEditor){var C=b.getModel(),O=C.getValue();C.setValue(O.replace(/\s\s+/g," ")),b.addCommand(o.KeyMod.CtrlCmd|o.KeyCode.KeyF,(function(){})),b.addCommand(o.KeyCode.Enter,(function(){}),"!suggestWidgetVisible"),b.onDidPaste((function(e){for(var t="",n=C.getLineCount(),i=0;i<n;i+=1)t+=C.getLineContent(i+1);t=t.replace(/\s\s+/g," "),C.setValue(t),b.setPosition({column:t.length+1,lineNumber:1})}))}u(t,r,l);var L=function(){var e=b.getLayoutInfo().width,t=Math.min(1e3,b.getContentHeight());d.style.height="".concat(t,"px");try{!0,b.layout({width:e,height:t})}finally{!1}};function x(e,t){""===t&&(document.querySelector(e).style.display="initial")}function M(e){document.querySelector(e).style.display="none"}b.onDidContentSizeChange(L),L(),""!==a&&(x("#"+m,b.getValue()),b.onDidBlurEditorWidget((function(){x("#"+m,b.getValue())})),b.onDidFocusEditorWidget((function(){M("#"+m)})))}window.makeMonacoEditor=m},9086:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[216,532],(function(){return t(5092),t(9086),t(1828)}));e.O()}]);
//# sourceMappingURL=javascript-editor.js.map